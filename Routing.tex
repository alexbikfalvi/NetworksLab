\chapter{Routing}

\section{Home preparation}
Two of the more used routing protocols are RIP and OSPF.
Find information about these two protocols and compare them.
Describe what is the format of a routing table and explain how each of the protocols work.

Read the following quick guide:
\url{www.jaumebarcelo.info/teaching/lxs/ipsec/routing/GUIA_RAPIDA_CISCO_2010.pdf}

\section{First Session}

In this first session each group will work with a router. 
The goals of this session are:
\begin{itemize}
\item Getting familiar with the configuration method.
\item Configuring ethernet interfaces.
\item Observe the RIP protocol in action.
\item Save the configuration in an external TFTP server.
\end{itemize}

Before disconnecting the computer from the Internet, download the TFTP server.
\url{http://tftpd32.jounin.net/}
Save it to one of the computers that you will use to connect to the router.

The routers are connected among them using the Ethernet interfaces and forming a topology that you will have to find out.
Use the console to connect to the routers (Hyperterminal or putty, 9600 bps, COM6).
The escape keystroke to exit a ping in a router is Ctrl-Alt-6.

\subsection{Checking the router status}

Use the console to connect to your router and explore the following commands.
Prepare a summary of what you can see with each command.
\begin{itemize}
\item show version
\item show protocols
\item show interfaces
\item show processes
\item show mem
\item show ip route
\item show history
\end{itemize}

\subsection{Create a ``Running'' and ``Startup'' configuration}
Enter the ``privileged EXEC'' mode (enable, pass ``cisco'') and global configuration (conf term). 
Find the commands to:
\begin{itemize}
\item show and change the router name
\item debugging mode configuration
\item send pings from the router
\item activate ``fair queueing'' at the ethernet interfaces (Fa0/0).
\end{itemize}

Use the command ``show running-config'' from the privileged mode.
Save the current configuration to the startup configuration (copy running-config startup-config).

\subsection{IP addresses configuration}
Go to your physical router box and check which interfaces are visible.

Use the ``show interfaces'' command to see what interfaces are available in the router.
Fill in a table that includes
\begin{itemize}
\item Interface name
\item MTU
\item Bandwidth
\item Encapsulation protocol
\end{itemize}

Enter the Ethernet interface configuration mode with the command 
\begin{lstlisting}
# interface <interface name>
\end{lstlisting}
and set the IP address to 192.168.10.XX, where XX is your group ID plus 10.
Use a /24 netmask.

\begin{center}
\sffamily\small
\begin{tabular}{>{\columncolor{tablegray}}p{15cm}}
\rowcolor{tableheader}
\multicolumn{1}{>{\columncolor{tableorange}}l}{Question}\\
What is the command that you have used?\\
\hline
\end{tabular}
\end{center}

Use the command
\begin{lstlisting}
# show interfaces
\end{lstlisting}
to verify the IP address assignment, and enable it with the command
\begin{lstlisting}
# no shutdown
\end{lstlisting}

Verify the line status and the interface status using the command 
\begin{lstlisting}
# show protocols
\end{lstlisting}

Use the commands
\begin{lstlisting}
# show cdp neighbors
\end{lstlisting}
and
\begin{lstlisting}
# show cdp neighbors detail
\end{lstlisting}
to see the neighboring devices.

Write down the information received from the different interfaces.
\begin{itemize}
\item neighbor identifier
\item ip address
\item port
\end{itemize}

Use the ping command to test the connectivity to the other routers in the lab and write down the round-trip times and other results that you may consider relevant.

Find out which is the network topology and sketch it in a figure.

Use the ``telnet'' command to connect to the router.
\begin{center}
\sffamily\small
\begin{tabular}{>{\columncolor{tablegray}}p{15cm}}
\rowcolor{tableheader}
\multicolumn{1}{>{\columncolor{tableorange}}l}{Question}\\
What is the command that you have used?\\
\hline
\end{tabular}
\end{center}

